import{R as E,r as f,j as t,c as h,p as j,d as G}from"./index-B9BI9uhb.js";const I={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,F:5,"E#":5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},P=["E","A","D","G","B","E"];function $(i){return I[i]}const R=({notes:i,frets:B=20,tuning:c=P,className:A,startFret:C=0,showFretNumbers:D=!0,degrees:g,cell:T=28,fretWidth:w=50})=>{const{chordPcs:F,degreeByPc:S,noteByPc:b}=f.useMemo(()=>{const s=new Set,e=new Map,o=new Map;return i.forEach((p,u)=>{const r=$(p);if(r!==void 0){s.add(r);const n=g?.[u];n&&e.set(r,n),o.has(r)||o.set(r,p)}}),{chordPcs:s,degreeByPc:e,noteByPc:o}},[i,g]),_=f.useMemo(()=>c.map(s=>$(s)??0).slice().reverse(),[c]),m=Math.max(1,Math.min(20,B)),y=Math.max(0,Math.min(18,C)),v=56,x=Math.max(18,Math.min(40,T)),d=Math.max(x,Math.min(80,w??x*1.3)),k=[40,45,50,55,59,64],M=f.useMemo(()=>JSON.stringify(c)===JSON.stringify(P)?Array.from(k).reverse():c.map(o=>{switch(o){case"E":return 40;case"A":return 45;case"D":return 50;case"G":return 55;case"B":return 59;default:return}}).reverse(),[c]);return t.jsx("div",{className:h("w-full overflow-x-auto",A),children:t.jsxs("div",{className:"inline-block select-none",children:[D?t.jsxs("div",{className:"grid",style:{gridTemplateColumns:`${v}px repeat(${m+1}, ${d}px)`},children:[t.jsx("div",{}),Array.from({length:m+1}).map((s,e)=>t.jsx("div",{className:"text-[10px] text-center text-muted-foreground",children:y+e},e))]}):null,t.jsx("div",{className:"grid border border-border rounded-md bg-card",style:{gridTemplateColumns:`${v}px repeat(${m+1}, ${d}px)`},children:_.map((s,e)=>{const o=e+1;return t.jsxs(E.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-end pr-2 text-xs text-muted-foreground border-b border-border",children:["S",o]}),Array.from({length:m+1}).map((p,u)=>{const r=y+u,n=(s+r)%12,O=F.has(n),a=S.get(n);return t.jsxs("div",{className:h("relative border-l border-border border-b last:border-b-0",e===0&&"border-t"),style:{width:d,height:x},children:[t.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-[2px] bg-muted/50"}),O?t.jsx("div",{className:h("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full px-1.5 py-0.5 border cursor-pointer",a?G(a):"bg-muted text-foreground border-border"),style:{minWidth:Math.min(d-6,80),maxWidth:d-2},title:`${b.get(n)??"?"}${a?` (${a})`:""} • S${o} fret ${r}`,role:"button",tabIndex:0,onClick:()=>{const l=M[e];l!==void 0&&j(l+r)},onKeyDown:l=>{if(l.key==="Enter"||l.key===" "){const N=M[e];N!==void 0&&j(N+r)}},children:t.jsx("span",{className:"block text-[10px] leading-none text-center truncate",children:b.has(n)?`${b.get(n)}${a?` ${a}`:""}`:a??"•"})}):null]},u)})]},e)})})]})})},J=E.memo(R);function U(){return[{start:0,frets:5,label:"Open to 5"},{start:5,frets:5,label:"5 to 10"},{start:8,frets:5,label:"8 to 13"}]}export{J as Fretboard,J as default,U as defaultPositions};
